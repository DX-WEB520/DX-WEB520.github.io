<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="小贝壳" href="https://xqlove.xyz/rss.xml"><link rel="alternate" type="application/atom+xml" title="小贝壳" href="https://xqlove.xyz/atom.xml"><link rel="alternate" type="application/json" title="小贝壳" href="https://xqlove.xyz/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="基础知识扫盲,网络,http"><link rel="canonical" href="https://xqlove.xyz/%E5%9B%BE%E8%A7%A3http/"><title>图解http - 网络 | 小贝壳 = Blog</title><meta name="generator" content="Hexo 5.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">图解http</h1><div class="meta"><span class="item" title="创建时间：2021-01-08 09:22:01"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-01-08T09:22:01+08:00">2021-01-08</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">小贝壳</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/6833939bly1giciryrr3rj20zk0m8nhk.jpg"></li><li class="item" data-background-image="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/wallhaven-0je23q.jpg"></li><li class="item" data-background-image="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/1.jpg"></li><li class="item" data-background-image="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/wallhaven-ymez5k.jpg"></li><li class="item" data-background-image="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/6833939bly1gipeubcbajj20zk0m8h1h.jpg"></li><li class="item" data-background-image="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/6833939bly1giciusoyjnj219g0u0x56.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/network/" itemprop="item" rel="index" title="分类于 网络"><span itemprop="name">网络</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://xqlove.xyz/%E5%9B%BE%E8%A7%A3http/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="小贝壳"><meta itemprop="description" content="Blog, 你一定会长成自己喜欢的模样"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="小贝壳"></span><div class="body md" itemprop="articleBody"><h1 id="网络基础"><a class="anchor" href="#网络基础">#</a> 网络基础</h1><h2 id="tcpip模型有几层分别是osi模型有几层分别是作用是"><a class="anchor" href="#tcpip模型有几层分别是osi模型有几层分别是作用是">#</a> TCP/IP 模型有几层分别是，OSI 模型有几层分别是？作用是？</h2><p>TCP/IP 模型有四层，分别是应用层、传输层、网络层、链路层。</p><p>OSI 模型有七层，分别是应用层、表示层、会话层、传输层、网络层、数据链路层、物理层。</p><p>OSI（参考模型）：将通信功能划分为 7 个分层。</p><p>应用层：为应用程序提供服务并规定应用程序中通信相关的细节。包括文件传输（FTP21 端口）、电子邮件、远程登录（TELNET23 端口与 SSH22 端口）等协议还有异常处理。<span style="color:red">HTTP 协议 80 端口、HTTPS 协议 443 端口、DNS</span></p><p>表示层：将应用处理的信息转换为适合网络传输的格式，或将下层的数据转换成上层能够处理的格式。（主要负责数据格式的转换）<span style="color:red">HTML 协议</span></p><p>会话层：负责建立和断开通信连接，以及数据的分割等数据传输相关的管理（何时建立链接、何时发送数据、决定采用何种连接方法，首部记录数据传送顺序中的信息）。</p><p>传输层：起着可靠传输的作用。只在通信双方节点上进行处理，无需在路由器上处理。（负责建立连接、断开连接、在两个主机之间创建逻辑上的通信连接）<span style="color:red">TCP、UDP 协议</span></p><p>网络层：将数据传输到目标地址。目标地址可以是多个网络通过路由器连接而成的某一个地址。（主要负责寻址和路由选择、将数据从发送端主机传送到接收端主机）<span style="color:red">IP 协议面向无连接、ARP</span></p><p>数据链路层：负责物理层面上互联的、节点之间的通信传输（在这些通过传输介质互连的设备之间使用地址实现传输）</p><p>物理层：负责 0、1 比特流与电压的高低、光的闪灭之间的互换</p><h2 id="http-tcp-ip-dns-arp协议"><a class="anchor" href="#http-tcp-ip-dns-arp协议">#</a> HTTP TCP IP DNS ARP 协议</h2><p>接口：上下层之间进行交互时所遵循的约定叫做 “接口”。</p><p>协议：同一层之间的交互所遵循的约定叫做 “协议”。</p><p>TCP 位于传输层，提供可靠的字节流服务，就是说 TCP 为了更容易的传输大数据将大数据分割成报文段为单位的数据包，并能够确认数据最终是否送达对方。</p><p>IP 协议</p><ul><li><p>属于网络层，是把各种数据包传送给对方（包括两个重要条件 IP 地址和 MAC 地址，前者是指名了节点被分配到的地址，后者指网卡所属的固定地址）。</p></li><li><p>IP 地址由网络标识和主机标识两部分组成。网段不同则网络标识需不同，主机标识在同一网段下是必须不同的。例如：19.168.128.（网络标识）10 （主机标识） /24（表示从头数第几位为止属于网络标识）</p></li><li><p>IP 地址分类：</p><ul><li><p>A 类 1-8 位为网络标识</p></li><li><p>B 类 1-16 位为网络标识</p></li><li><p>C 类 1-24 位为网络标识</p></li><li><p>D 类 1-32 位为网络标识</p></li><li><p>不可以全部为 0 或 1</p></li></ul></li></ul><p>DNS 属于应用层，提供通过域名查找对应的 IP 地址，或者逆向从地址反查域名的服务。</p><p>ARP 在 TCP/IP 模型中属于网络层，在 OSI 模型中属于数据链路层，是一种用以解析地址的协议，知道通信双方的 IP 地址后，可以反查出 MAC 地址。</p><h2 id="tcp-ip-dns协议在http通信的过程中发挥了哪些作用"><a class="anchor" href="#tcp-ip-dns协议在http通信的过程中发挥了哪些作用">#</a> TCP IP DNS 协议在 HTTP 通信的过程中发挥了哪些作用？</h2><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/http%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B.png" alt=""></p><h2 id="在网页的浏览器中输入url的时候web页面是如何呈现的"><a class="anchor" href="#在网页的浏览器中输入url的时候web页面是如何呈现的">#</a> 在网页的浏览器中输入 URL 的时候，Web 页面是如何呈现的？</h2><p>假设我们访问的是 <code>http://www.baidu.com</code> 这个地址，按下 ENTER 键后，我们可以看到百度首页面。</p><p><strong>首先我们要知道：</strong></p><ul><li>百度页面并没有在我们自己的客户端本地，我们是输入地址后，才请求过来的</li><li>输入不同的域名可以看到不同的页面</li><li>有的网址是 https，有的是 http（也有的是 ftp）</li><li>需要客户端联网才能完成这些事情</li></ul><p><strong>都经历哪些事情？</strong></p><ul><li>Request 请求阶段</li></ul><ol><li>首先根据客户端输入的域名，到 DNS 服务器上进行解析（通过域名找到对应服务器的外网 IP）</li><li>通过找到的外网 IP，找到对应的服务器</li><li>通过在地址栏中输入的端口号（没输入是因为不同协议有自己默认端口号）找到服务器上发布的对应的项目</li></ol><ul><li>Response 响应阶段</li></ul><ol start="4"><li>服务器获取到请求资源文件的地址 <code>例如：/stu/index.html</code> ，把资源文件中的 <code>源代码</code> 找到</li><li>服务器端会把找到的源代码返回给客户端（通过 HTTP 等传输协议返回的）</li></ol><ul><li>浏览器自主渲染阶段</li></ul><ol start="6"><li>客户端接收到源代码后，会交给浏览器的内核（渲染引擎）进行渲染，最后由浏览器绘制出对应的页面</li></ol><h2 id="dns介绍"><a class="anchor" href="#dns介绍">#</a> DNS 介绍</h2><h3 id="产生的原因"><a class="anchor" href="#产生的原因">#</a> 产生的原因</h3><p>由于 IP 地址不便记忆，所以产生了一个可以有效管理主机名和 IP 地址之间对应关系的系统，就是 DNS 系统。</p><h3 id="域名的构成"><a class="anchor" href="#域名的构成">#</a> 域名的构成</h3><p>域名是为了识别主机名称和组织机构名称的一种具有分层的名称。由几个英文字母用点号连接构成。</p><h3 id="域名服务器"><a class="anchor" href="#域名服务器">#</a> 域名服务器</h3><p>域名服务器是指管理域名的主机和相应的软件，它可以管理所在分层的域的相关信息。</p><p>各个域的分层上，都设有各自的域名服务器，各层域名服务器都了解该层以下分层中所有域名服务器的 IP 地址。因此它们从根域名服务器开始呈树状结构相互链接。从根域名开始按照顺序追踪，可以访问世界上所有域名服务器的地址。</p><p>根部所设置的 DNS 叫做根域名服务器。它对 DNS 的检索数据功能起着至关重要的作用。</p><p>一般为了提高容灾能力，会设置至少两个以上的域名服务器。</p><h3 id="解析器"><a class="anchor" href="#解析器">#</a> 解析器</h3><p>进行 DNS 查询的主机和软件叫做 DNS 解析器。用户所使用的工作站或个人电脑都属于解析器。</p><h3 id="dns查询"><a class="anchor" href="#dns查询">#</a> DNS 查询</h3><ol><li>解析器为了调查 IP 地址，向域名服务器进行查询处理。</li><li>接收查询请求的域名服务器首先会在自己的数据库进行查找，如果有该域名所对应的 IP 地址就返回，如果没有，则域名服务器再向上一层根域名服务器进行查询。</li><li>从根开始对这棵树按照顺序进行遍历，直到找到指定的域名服务器。</li><li>解析器和域名服务器将最新了解到的信息暂时保存在缓存里。</li></ol><h2 id="在搭项目的时候发现一个问题localhost和本机ip以及network有什么区别"><a class="anchor" href="#在搭项目的时候发现一个问题localhost和本机ip以及network有什么区别">#</a> 在搭项目的时候发现一个问题，localhost 和本机 IP 以及 network 有什么区别？</h2><h3 id="首先我们需要扫盲一下内网和外网"><a class="anchor" href="#首先我们需要扫盲一下内网和外网">#</a> 首先我们需要扫盲一下内网和外网</h3><h4 id="什么是内网ip"><a class="anchor" href="#什么是内网ip">#</a> 什么是内网 IP?</h4><p>内网（局域网：几倍相同的 DNS 和默认网关，并且由相同的路由器下发的 IP [可以理解为连接同一个 wifi，但不是很准确]），限定在一定区域内访问的。</p><h4 id="什么是外网ip"><a class="anchor" href="#什么是外网ip">#</a> 什么是外网 IP？</h4><p>外网不管是不是在同一个网段，用户都可以通过外网 IP 访问到你的服务器，但是一般我们会在服务器上做处理，禁止直接通过 IP 访问。</p><h4 id="区别"><a class="anchor" href="#区别">#</a> 区别</h4><p>127.0.0.1：127.0.0.1 一般分配给 loopback 接口。loopback 是个特殊的网络接口（可理解为虚拟网卡），用于本机各个应用之间的网络交互。只要操作系统的网络组件正常，loopback 就能工作，不联网 ，网卡传输，受防火墙和网卡限制 ，本机访问 。</p><p>network：一般是指当前主机分配的网络。</p><p>localhost：localhost 首先是一个域名（如同：<span class="exturl" data-url="aHR0cDovL3d3dy5iYWlkdS5jb20=">www.baidu.com</span>），也是本机地址，它可以被配置为任意的 IP 地址（也就是说，可以通过 hosts 这个文件进行更改的），不过通常情况下都指向：IPv4：表示 127.0.0.1，整个 127.* 网段通常被用作 loopback 网络接口的默认地址，按照惯例通常设置为 127.0.0.1。我们当前这个主机上的这个地址，别人不能访问，即使访问，也是访问自己。不联网 ，不使用网卡，不受防火墙和网卡限制 ，本机访问 。</p><p>本机 IP：指的是本机物理网卡所绑定的网络协议地址，一般指 ipv4 协议。联网 ，网卡传输 ，受防火墙和网卡限制 ，本机或外部访问。</p><h2 id="url-uri-urn"><a class="anchor" href="#url-uri-urn">#</a> URL、URI、URN</h2><p>URI：统一资源标识符（可以访问在互联网上任意位置的资源）</p><p>URL：统一资源路径地址</p><p>URN：统一资源名称</p><p>URI=URL + URN</p><p>一个完整的 URL 包含很多部分： <code>http://www.html5train.com/stu/index.html?name=zf&amp;age=9&amp;teacher=zxt#good</code> （传输协议、域名、端口号、请求资源文件的路径名称、问号传参、hash）</p><h2 id="tcp和udp的特点-区别"><a class="anchor" href="#tcp和udp的特点-区别">#</a> TCP 和 UDP 的特点、区别</h2><p>TCP：面向有连接的、可靠的流协议，并具备顺序控制、重发控制等机制，也就是说可以确保发送的顺序，但还是犹如没有任何间隔的数据流发送给客户端。</p><p>UDP：面向无连接的、可以确保发送信息的大小，但是不能确保信息一定能到达，如何在传输的过程中顺序打乱或者丢失是无法处理的，主要用于那些对高速传输且实时性要求较高的通信或广播。</p><h2 id="tcp三次握手和四次挥手"><a class="anchor" href="#tcp三次握手和四次挥手">#</a> TCP 三次握手和四次挥手</h2><p>由于这篇文章详细的讲解了 TCP 三次握手和四次挥手的过程，以及一些需要注意的问题，这里就不再赘述了，感兴趣的小伙伴们可以看看这篇文章。</p><p><a href="https://xqlove.xyz/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/">TCP 三次握手和四次挥手</a></p><h1 id="http10http1xhttp20"><a class="anchor" href="#http10http1xhttp20">#</a> HTTP1.0/HTTP1.x/HTTP2.0</h1><p>HTTP 协议是不保存状态的，比如商城的登录状态保持，也就是单点登录，我们需要借助 cookie（用户识别和状态管理）来实现。</p><p>如图所示：</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/cookie.png" alt=""></p><p>对 cookie、localStorage、sessionStorage 不了解的，可以看一下这一篇文章。</p><p><a href="http://xqlove.xyz/cookie%E3%80%81localStorage%E3%80%81sessionStorage/">cookie、localStorage、sessionStorage</a></p><h2 id="http支持的方法"><a class="anchor" href="#http支持的方法">#</a> HTTP 支持的方法</h2><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/http%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%B9%E6%B3%95.png" alt=""></p><p>**HTTP/1.0：** 进行一次 HTTP 请求都要断开一次 HTTP 连接，一次 TCP 链接只能发送一次请求和交互。（长轮询）</p><p>**HTTP/1.1：** 持久链接，节省通行量，比如在访问图片的时候，不用进行多次通信。建立一次 TCP 链接后，可以发送多次请求和响应的交互。持久链接使得多数请求以管线化方式发送成为可能。从前发送一个请求需等待并接受到响应，才能发送下一个请求。管线化，不用等待响应亦可发送下一个请求。</p><p>这样可同时并行发送多个请求，而不需要一个接一个地等待响应了。（长连接）</p><h5 id="http1x存在的问题"><a class="anchor" href="#http1x存在的问题">#</a> HTTP/1.X：存在的问题</h5><ul><li><p>线头阻塞：TCP 连接上只能发送一个请求，前面的请求未完成前，后续的请求都在排队等待。</p></li><li><p>多个 TCP 连接<br>虽然 HTTP/1.1 管线化可以支持请求并发，但是浏览器很难实现，chrome、firefox 等都禁用了管线化。所以 1.1 版本请求并发依赖于多个 TCP 连接，建立 TCP 连接成本很高，还会存在慢启动的问题</p></li><li><p>头部冗余，采用文本格式</p><p>HTTP/1.X 版本是采用文本格式，首部未压缩，而且每一个请求都会带上 cookie、user-agent 等完全相同的首部。</p></li><li><p>客户端需要主动请求</p></li></ul><p><strong>HTTP/2.0:</strong></p><ul><li><p>HTTP2 性能提升的核心就在于二进制分帧层。HTTP2 是二进制协议，他采用二进制格式传输数据而不是 1.x 的文本格式。一条 HTTP 响应，划分成了两个帧来传输，HEAD 和 DATE。</p></li><li><p>头部压缩也是 HTTP2 的一大亮点。在 1.X 版本中，首部用文本格式传输，通常会给每个传输增加 500-800 字节的开销。现在打开一个网页上百个请求已是常态，而每个请求带的一些首部字段都是相同的，例如 cookie、user-agent 等。HTTP2 为此采用 HPACK 压缩格式来压缩首部。头部压缩需要在浏览器和服务器端之间：</p><ul><li>维护一份相同的静态字典，包含常见的头部名称，以及常见的头部名称和值的组合</li><li>维护一份相同的动态字典，可以动态的添加内容</li><li>通过静态 Huffman 编码对传输的首部字段进行编码</li></ul></li><li><p>服务器端推送</p><p>服务器端推送使得服务器可以预测客户端需要的资源，主动推送到客户端。<br>例如：客户端请求 index.html，服务器端能够额外推送 script.js 和 style.css。 实现原理就是客户端发出页面请求时，服务器端能够分析这个页面所依赖的其他资源，主动推送到客户端的缓存，当客户端收到原始网页的请求时，它需要的资源已经位于缓存。</p></li></ul><h1 id="http报文中的http信息"><a class="anchor" href="#http报文中的http信息">#</a> HTTP 报文中的 http 信息</h1><h2 id="http报文"><a class="anchor" href="#http报文">#</a> HTTP 报文</h2><p>用于 HTTP 协议交互的信息被称为 HTTP 报文。请求端（客户端）的 HTTP 报文叫做请求报文，响应端（服务器端）的叫做响应报文，报文本身是由多行（用 CR+LF 作换行符）数据构成的字符串文本。</p><p>HTTP 报文大致可分为报文首部和报文主体两块。两者由最初出现的空行（CR+LF）来划分，通常并不一定要出现报文主体。</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/Snipaste_2021-01-08_15-42-24.png" alt=""></p><p>请求报文的首部：</p><ul><li>请求行：包含用于请求的方法，请求 URI 和 HTTP 版本</li><li>请求首部字段</li><li>通用首部字段</li><li>实体首部字段</li><li>其他</li></ul><p>响应报文的首部：</p><ul><li>状态行：包含表明响应结果的状态码，原因短语和 HTTP 版本</li><li>响应首部字段</li><li>通用首部字段</li><li>实体首部字段</li><li>其他</li></ul><p>报文：是 HTTP 通信中的基本单位，由 8 位组字节流组成，通过 HTTP 通信传输</p><p>实体：作为请求或响应的有效载荷数据被传输，其内容由实体首部和实体主体组成</p><p>HTTP 报文的主体用于传输请求或响应的实体主体。通常报文主体等于实体主体。只有在传输中进行编码操作时，实体主体的内容发生变化，才导致它和报文主体产生差异。</p><h1 id="状态码"><a class="anchor" href="#状态码">#</a> 状态码</h1><p>作用：向客户端告知服务器返回的结果。</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/%E7%8A%B6%E6%80%81%E7%A0%81%E7%B1%BB%E5%88%AB.png" alt=""></p><p>204：从客户端往服务器发送信息，而对客户端不需要发送新信息内容的情况下使用</p><p>206：客户端进行了范围请求，服务器成功执行</p><p>301：永久性重定向</p><p>302：临时重定向</p><p>303：临时重定向，客户端应当采用 GET 方法获取资源</p><p>304：客户端发送附带条件的请求时，服务端允许请求访问资源，但未满足条件</p><p>307：临时重定向，不会从 POST 变为 GET</p><p>400：请求报文中存在错误语法</p><p>401：需要 HTTP 认证，若之前认证过此次则表示认证失败</p><p>403：请求资源的方位被服务器拒绝了</p><p>404：无法找到请求的资源</p><p>500：服务器端在执行请求时发生了错误</p><p>503：服务器超载或者正在停机维护</p><h1 id="http首部"><a class="anchor" href="#http首部">#</a> HTTP 首部</h1><h2 id="http报文首部"><a class="anchor" href="#http报文首部">#</a> HTTP 报文首部</h2><p>HTTP 协议的请求和响应报文中必定包含 HTTP 首部。首部内容为客户端和服务器分别处理请求和响应提供所需要的信息。</p><p>HTTP 请求报文由方法、URI、HTTP 版本、（这三个包含在请求行）HTTP 首部字段等部分构成。</p><p>HTTP 响应报文由 HTTP 版本、状态码 [数字和原因短语]（这两个部分包含在状态行）、HTTP 首部字段 3 部分组成。</p><h2 id="http首部字段"><a class="anchor" href="#http首部字段">#</a> HTTP 首部字段</h2><p>首部字段名：字段值</p><h3 id="4种http首部字段类型"><a class="anchor" href="#4种http首部字段类型">#</a> 4 种 HTTP 首部字段类型</h3><ul><li>通用首部字段：请求报文和响应报文都会使用的字段</li><li>请求首部字段：从客户端向服务器端发送请求报文时使用的首部。补充了请求的附加内容、客户端信息、响应内容相关优先级等信息。</li><li>响应首部字段：从服务器端向客户端返回响应报文时使用的首部。</li><li>实体首部字段：针对请求报文和响应报文的实体部分使用的首部。</li></ul><h4 id="常见通用首部字段"><a class="anchor" href="#常见通用首部字段">#</a> 常见通用首部字段</h4><h5 id="cache-control-指令"><a class="anchor" href="#cache-control-指令">#</a> Cache-Control ： 指令</h5><p>控制缓存的行为，指令参数是可选的，多个指令之间通过 “,” 分割</p><ul><li><p>public：表明可向任意方提供响应的缓存</p></li><li><p>private ：响应只以特定的用户作为对象</p></li><li><p>no-cache：防止从缓存中返回过期的资源。</p><ul><li>请求中包含该指令：客户端将不会接收缓存过的响应，所以‘中间’的缓存服务器必须把客户端请求转发给源服务器。</li><li>响应中包含该指令：缓存服务器不能对资源进行缓存，源服务器也不会对缓存服务器请求中提出的资源有效性进行确认。</li></ul></li><li><p>no-store：暗示请求或响应中的机密信息，缓存不能在本地存储请求或响应中的任一部分。</p></li><li><p>max-age：保存为缓存的最长时间，也就是过期时间</p></li><li><p>max-stale：即使过期但仍处于这个时间内则仍是可用的缓存</p></li></ul><h5 id="connection"><a class="anchor" href="#connection">#</a> Connection</h5><ul><li><p>Connection：不再转发的首部字段 （控制不再转发给代理的首部字段）</p><p>例如：Connection：Upgrade 需要删除 Upgrade 首部字段再转发</p></li><li><p>HTTP/1.1 版本的默认链接都是持久链接，用户可在持久链接上连续发送请求，该首部字段可以管理持久链接</p><p>例如：Connection：close（这下客户端 A 小姐和服务器 B 先生的关系彻底结束了）要想破镜重圆则需要设置</p><p>Connection：Keep-Alive</p></li></ul><h5 id="via"><a class="anchor" href="#via">#</a> Via</h5><p>追踪客户端和服务器端请求和响应报文的传输路径。</p><p>报文经过代理或网关时，会在 Via 字段附加该服务器的信息，然后再转发，还可以避免请求回环的发生。</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/Snipaste_2021-01-08_19-37-07.png" alt=""></p><h4 id="常见请求首部字段"><a class="anchor" href="#常见请求首部字段">#</a> 常见请求首部字段</h4><h5 id="accept"><a class="anchor" href="#accept">#</a> Accept</h5><p>通知服务器用户代理能够处理的媒体类型以媒体类型的相对优先级</p><h5 id="accept-charset"><a class="anchor" href="#accept-charset">#</a> Accept-Charset</h5><p>通知服务器用户代理支持的字符集</p><h5 id="accept-encoding"><a class="anchor" href="#accept-encoding">#</a> Accept-Encoding</h5><p>通知服务器用户代理支持的内容编码及内容编码的优先级顺序</p><h5 id="accept-languages"><a class="anchor" href="#accept-languages">#</a> Accept-Languages</h5><p>通知服务器用户代理支持的自然语言</p><h5 id="authorization"><a class="anchor" href="#authorization">#</a> Authorization</h5><p>通知服务器，用户代理的认证信息</p><h5 id="from"><a class="anchor" href="#from">#</a> From</h5><p>通知服务器，使用用户代理的用户的电子邮件地址</p><h5 id="host必须被包含在请求内的首部字段"><a class="anchor" href="#host必须被包含在请求内的首部字段">#</a> Host (必须被包含在请求内的首部字段)</h5><p>告知服务器，请求的资源所处的互联网的主机名和端口号</p><p><strong>这里需要解释一下，为什么 host 是必须的首部字段呢？</strong></p><p>请求被发送至服务器时，请求中的主机名会用 IP 地址直接替换解决。但是如果相同的 IP 地址下部署着多个域名，服务器就找不到是哪个域名对应的请求，因此我们需要在 Host 中写上主机名，也就是请求对应的域名。</p><p>如图所示：</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/Snipaste_2021-01-08_19-14-18.png" alt=""></p><h5 id="refer"><a class="anchor" href="#refer">#</a> Refer</h5><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/Snipaste_2021-01-08_19-20-39.png" alt=""></p><p>告知服务器请求的原始资源的 URL</p><p>客户端一般都会发送 Refer 给服务器，但当直接在浏览器输入 URL 时，为了安全考虑（URL 中可能含有 ID 和密码等），一般不发送。</p><h4 id="常见响应首部字段"><a class="anchor" href="#常见响应首部字段">#</a> 常见响应首部字段</h4><h5 id="age"><a class="anchor" href="#age">#</a> Age</h5><p>告知客户端，源服务器在多久前创建了响应，若是缓存服务器，则指的是缓存后的响应再次认证到认证完成所需要的事件，代理创建响应时必须添加。</p><h5 id="etag"><a class="anchor" href="#etag">#</a> ETag</h5><p>告知客户端实体标识。可将资源做唯一字符串标识，服务器会给每一份资源都分配 ETag，例如当资源的 URI 相同时，中文版和英文版对应的资源时不同的，ETag 也是不同的。</p><ul><li>强 ETag：无论实体发生多么细微的变化都会改变其值</li><li>弱 ETag：用于提示资源是否相同，只有资源发生根本性改变 ETag 才会改变。</li></ul><h5 id="location"><a class="anchor" href="#location">#</a> Location</h5><p>告知客户端，浏览的页面已经被转移，将响应接收方引导至某个与请求 URL 位置不同的资源。可以理解为重定向到另一个 URL，一般都会强制性的访问 Location 提供的 URL 资源。</p><h5 id="server"><a class="anchor" href="#server">#</a> Server</h5><p>告知客户端，当前服务端安装的 HTTP 服务器应用程序的信息，如软件应用程序信息、版本号、安装时启动项</p><p>Server：Apache/2.2.6(Unix) PHP/5.2.5</p><h4 id="常见实体首部字段"><a class="anchor" href="#常见实体首部字段">#</a> 常见实体首部字段</h4><h5 id="allow"><a class="anchor" href="#allow">#</a> Allow</h5><p>通知客户端，能够支持的所有 Request-URL 指定资源的所有 HTTP 方法，若接收到服务器不支持的方法时，返回 405，并且把能够支持的方法返回。</p><h5 id="content-type"><a class="anchor" href="#content-type">#</a> Content-Type</h5><p>说明实体主体内对象的媒体类型</p><h5 id="expires"><a class="anchor" href="#expires">#</a> Expires</h5><p>告知客户端资源的失效日期，一般接收到该字段，会以缓存来应答，在该时间之前，响应的副本会一直保存。当超过该时间时，缓存服务器在请求发送过来时，会转向源服务器请求资源。当指定 max-age 时，会优先考虑 max-age。</p><h5 id="set-cookie"><a class="anchor" href="#set-cookie">#</a> Set-Cookie</h5><ul><li>expires：指定浏览器可发送 cookie 的有效期，当省略 expires 时，其有效期仅限于维持浏览器会话。</li><li>path：限制指定 cookie 的发送范围的文件目录</li><li>domain：作为 cookie 使用对象的域名，结尾匹配一致原则，<span class="exturl" data-url="aHR0cDovL3huLS1hYmMtZW84ZXIyMmYuY29t">比如 abc.com</span>，www.abc.com 或者 www2.abc.com 都可以发送 cookie</li><li>secure：限制 Web 页面仅在使用 https 协议时才可以发送 cookie</li><li>HttpOnly：cookie 的扩展功能，它使 javascript 脚本无法获取 cookie，为了防止 xss（跨站脚本攻击）对 cookie 信息的窃取。</li></ul><h5 id="cookie"><a class="anchor" href="#cookie">#</a> cookie</h5><p>当客户端想获得 HTTP 状态管理支持时，就会在请求中包含从服务器获取到的 cookie</p><h1 id="https"><a class="anchor" href="#https">#</a> HTTPS</h1><h2 id="http缺点"><a class="anchor" href="#http缺点">#</a> HTTP 缺点</h2><ul><li>通信使用明文（不加密），内容可能会被窃听</li><li>不验证通信方的身份，因此有可能遭遇伪装</li><li>无法证明报文的完整性，所以有可能已遭篡改</li></ul><h2 id="http加密认证完整性保护https"><a class="anchor" href="#http加密认证完整性保护https">#</a> HTTP + 加密 + 认证 + 完整性保护 = HTTPS</h2><p>HTTPS 并不是一种新协议，只是通信接口部分用 SSL 和 TLS 协议代替。</p><p>通常，HTTP 直接和 TCP 通信。当使用 SSL 时，则演变成先和 SSL 通信，再由 SSL 和 TCP 通信了。</p><p>SSL 是独立于 HTTP 的协议，是当今世界上应用最为广泛的网络安全技术。</p><h2 id="ssl加密方法"><a class="anchor" href="#ssl加密方法">#</a> SSL 加密方法</h2><p>采用公开密钥加密，加密算法公开，密钥保密。</p><ul><li><p>共享密钥加密的困境</p><p>加密和解密同用一个密钥的方式称为共享密钥加密，也被叫做对称密钥加密。</p><p>共享密钥加密时必须将密钥也发送给对方，如果通信监听密钥就会落入攻击者之手，所以需要安全保管密钥。</p><p>速度快。</p></li><li><p>使用两把密钥的公开密钥加密</p><p>公开密钥加密使用一对非对称的密钥。一把叫做私有密钥，另一把叫做公开密钥。私有密钥不被其他人知道，公开密钥可以随意发布，用公开密钥加密，用私有密钥解密。不用发送解密的私有密钥。</p><p>速度慢。</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/Snipaste_2021-01-08_20-44-03.png" alt=""></p></li></ul><h2 id="https采用混合加密机制"><a class="anchor" href="#https采用混合加密机制">#</a> HTTPS 采用混合加密机制</h2><p>交换密钥环节使用公开密钥加密方式，建立通信交换报文阶段则使用共享密钥加密方式。</p><p><img data-src="https://cloud-img-1301075855.cos.ap-chengdu.myqcloud.com/xin/Snipaste_2021-01-08_20-44-22.png" alt=""></p><h2 id="为什么不全部使用https协议"><a class="anchor" href="#为什么不全部使用https协议">#</a> 为什么不全部使用 HTTPS 协议</h2><ul><li>处理速度慢。通信慢，大量消耗 CPU 及内存资源，导致处理速度变慢。</li><li>网络负载变慢 2-100 倍，除去和 TCP 建立连接，发送 HTTP 请求响应外，还必须进行 SSL 通信，处理通行量不可避免会增加。</li><li>加密解密运算</li><li>无根本性解决方法，使用 SSL 加速器解决</li></ul><h1 id="websocket"><a class="anchor" href="#websocket">#</a> WebSocket</h1><h2 id="http1x瓶颈"><a class="anchor" href="#http1x瓶颈">#</a> HTTP/1.X 瓶颈</h2><ul><li>一条连接上只可发送一个请求。</li><li>请求只能从客户端开始。客户端不可以接收除响应以外的指令。</li><li>请求 / 响应首部未经压缩就发送，首部信息越多延迟越大。</li><li>发送冗长的首部，每次互相发送相同的首部造成的浪费较多。</li><li>可任意选择数据压缩格式。非强制压缩发送。</li></ul><p>为了解决 HTTP 的瓶颈，出现了很多新的协议，WebSocket 就是其中之一。</p><p>WebSocket, 即 Web 浏览器与 Web 服务器之间全双工通信标准。本来是 H5 中的标准，现在已经演变为独立的标准。主要为了解决 Ajax 和 Comet 里 XMLHttpRequest 附带的缺陷所引起的问题。</p><h2 id="websocket主要特点"><a class="anchor" href="#websocket主要特点">#</a> WebSocket 主要特点</h2><ul><li>推送功能：服务器可直接发送数据，而不必等到客户端同意。</li><li>减少通信量：只要建立起 WebSocket 通信就希望一直保持连接状态</li></ul><p>为了实现 WebSocket 通信，建立 HTTP 通信后，需要完成一次握手且需要用到 HTTP 的 Upgrade 首部字段告知服务器通信协议发生改变。成功握手后，通信时不再使用 HTTP 的数据帧，而是采用 WebSocket 独立的数据帧。</p><h1 id="web攻击技术"><a class="anchor" href="#web攻击技术">#</a> Web 攻击技术</h1><h2 id="攻击模式"><a class="anchor" href="#攻击模式">#</a> 攻击模式</h2><ul><li>以服务器为目标的主动攻击：直接访问 Web 应用，把攻击代码传入<ul><li>SQL 注入攻击</li><li>OS 命令注入攻击</li></ul></li><li>以服务器为目标的被动攻击：利用圈套策略执行攻击代码的攻击模式。<ul><li>跨站脚本攻击和跨站点请求伪造</li></ul></li></ul><h2 id="安全对策"><a class="anchor" href="#安全对策">#</a> 安全对策</h2><ul><li>客户端的验证</li><li>Web 应用端（服务器端）的验证<ul><li>输入值验证</li><li>输出值转义</li></ul></li></ul><h2 id="跨站脚本攻击xss"><a class="anchor" href="#跨站脚本攻击xss">#</a> 跨站脚本攻击 (XSS)</h2><p>通过存在安全漏洞的 Web 网站注册用户的浏览器内运行非法的 HTML 标签或者 JavaScript 进行的一种攻击。动态创建的 HTML 可能存在安全漏洞，攻击者编写脚本设下陷阱，用户在自己的浏览器上运行时，一不小心就受到被动攻击。</p><ul><li>利用虚假输入表单骗取用户个人信息</li><li>利用脚本窃取用户的 Cookie 值，被害者在不知情的情况下，帮助攻击者发送恶意请求</li><li>显示伪造的文章或图片</li></ul><h2 id="跨站点请求伪造的csrf"><a class="anchor" href="#跨站点请求伪造的csrf">#</a> 跨站点请求伪造的（CSRF)</h2><p>攻击者通过设置好的陷阱，强制对已完成认证的用户进行非预期的个人信息或设定信息等某些状态更新，属于被动攻击。</p><ul><li>利用已通过认证的用户权限更新设定信息等</li><li>利用已通过认证的用户权限购买商品</li><li>利用已通过认证的用户权限在留言板上发表言论</li></ul><p>如果想要详细了解这两种攻击技术，可以阅读这篇文章。</p><p><a href="https://xqlove.xyz/Web%E5%AE%89%E5%85%A8/">Web 安全</a></p><div class="tags"><a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%89%AB%E7%9B%B2/" rel="tag"><i class="ic i-tag"></i> 基础知识扫盲</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"><i class="ic i-tag"></i> 网络</a> <a href="/tags/http/" rel="tag"><i class="ic i-tag"></i> http</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-04-04 11:16:54" itemprop="dateModified" datetime="2021-04-04T11:16:54+08:00">2021-04-04</time> </span><span id="图解http/" class="item leancloud_visitors" data-flag-title="图解http" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="小贝壳 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="小贝壳 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>小贝壳 <i class="ic i-at"><em>@</em></i>小贝壳</li><li class="link"><strong>本文链接：</strong> <a href="https://xqlove.xyz/%E5%9B%BE%E8%A7%A3http/" title="图解http">https://xqlove.xyz/图解http/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/font-size-line-height-vertical-align/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cloud-img-1301075855.cos.ap-chengdu.myqcloud.com&#x2F;xin&#x2F;1.jpg" title="font-size&amp;line-height&amp;vertical-align"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> CSS基础</span><h3>font-size&line-height&vertical-align</h3></a></div><div class="item right"><a href="/cookie%E3%80%81localStorage%E3%80%81sessionStorage/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cloud-img-1301075855.cos.ap-chengdu.myqcloud.com&#x2F;xin&#x2F;wallhaven-0q6gl5.jpg" title="cookie、localStorage、sessionStorage"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 网络</span><h3>cookie、localStorage、sessionStorage</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">网络基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tcpip%E6%A8%A1%E5%9E%8B%E6%9C%89%E5%87%A0%E5%B1%82%E5%88%86%E5%88%AB%E6%98%AFosi%E6%A8%A1%E5%9E%8B%E6%9C%89%E5%87%A0%E5%B1%82%E5%88%86%E5%88%AB%E6%98%AF%E4%BD%9C%E7%94%A8%E6%98%AF"><span class="toc-number">1.1.</span> <span class="toc-text">TCP&#x2F;IP 模型有几层分别是，OSI 模型有几层分别是？作用是？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#http-tcp-ip-dns-arp%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.2.</span> <span class="toc-text">HTTP TCP IP DNS ARP 协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tcp-ip-dns%E5%8D%8F%E8%AE%AE%E5%9C%A8http%E9%80%9A%E4%BF%A1%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%8F%91%E6%8C%A5%E4%BA%86%E5%93%AA%E4%BA%9B%E4%BD%9C%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">TCP IP DNS 协议在 HTTP 通信的过程中发挥了哪些作用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BD%91%E9%A1%B5%E7%9A%84%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%BE%93%E5%85%A5url%E7%9A%84%E6%97%B6%E5%80%99web%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%A6%82%E4%BD%95%E5%91%88%E7%8E%B0%E7%9A%84"><span class="toc-number">1.4.</span> <span class="toc-text">在网页的浏览器中输入 URL 的时候，Web 页面是如何呈现的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dns%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.5.</span> <span class="toc-text">DNS 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.5.1.</span> <span class="toc-text">产生的原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E7%9A%84%E6%9E%84%E6%88%90"><span class="toc-number">1.5.2.</span> <span class="toc-text">域名的构成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.5.3.</span> <span class="toc-text">域名服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-number">1.5.4.</span> <span class="toc-text">解析器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dns%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.5.</span> <span class="toc-text">DNS 查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E6%90%AD%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%97%B6%E5%80%99%E5%8F%91%E7%8E%B0%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98localhost%E5%92%8C%E6%9C%AC%E6%9C%BAip%E4%BB%A5%E5%8F%8Anetwork%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.</span> <span class="toc-text">在搭项目的时候发现一个问题，localhost 和本机 IP 以及 network 有什么区别？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E6%89%AB%E7%9B%B2%E4%B8%80%E4%B8%8B%E5%86%85%E7%BD%91%E5%92%8C%E5%A4%96%E7%BD%91"><span class="toc-number">1.6.1.</span> <span class="toc-text">首先我们需要扫盲一下内网和外网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E7%BD%91ip"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">什么是内网 IP?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%96%E7%BD%91ip"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">什么是外网 IP？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#url-uri-urn"><span class="toc-number">1.7.</span> <span class="toc-text">URL、URI、URN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tcp%E5%92%8Cudp%E7%9A%84%E7%89%B9%E7%82%B9-%E5%8C%BA%E5%88%AB"><span class="toc-number">1.8.</span> <span class="toc-text">TCP 和 UDP 的特点、区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">1.9.</span> <span class="toc-text">TCP 三次握手和四次挥手</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#http10http1xhttp20"><span class="toc-number">2.</span> <span class="toc-text">HTTP1.0&#x2F;HTTP1.x&#x2F;HTTP2.0</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#http%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">HTTP 支持的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#http1x%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">2.1.0.0.1.</span> <span class="toc-text">HTTP&#x2F;1.X：存在的问题</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#http%E6%8A%A5%E6%96%87%E4%B8%AD%E7%9A%84http%E4%BF%A1%E6%81%AF"><span class="toc-number">3.</span> <span class="toc-text">HTTP 报文中的 http 信息</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#http%E6%8A%A5%E6%96%87"><span class="toc-number">3.1.</span> <span class="toc-text">HTTP 报文</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">4.</span> <span class="toc-text">状态码</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#http%E9%A6%96%E9%83%A8"><span class="toc-number">5.</span> <span class="toc-text">HTTP 首部</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#http%E6%8A%A5%E6%96%87%E9%A6%96%E9%83%A8"><span class="toc-number">5.1.</span> <span class="toc-text">HTTP 报文首部</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#http%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.</span> <span class="toc-text">HTTP 首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E7%A7%8Dhttp%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.2.1.</span> <span class="toc-text">4 种 HTTP 首部字段类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%80%9A%E7%94%A8%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">常见通用首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#cache-control-%E6%8C%87%E4%BB%A4"><span class="toc-number">5.2.1.1.1.</span> <span class="toc-text">Cache-Control ： 指令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#connection"><span class="toc-number">5.2.1.1.2.</span> <span class="toc-text">Connection</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#via"><span class="toc-number">5.2.1.1.3.</span> <span class="toc-text">Via</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E8%AF%B7%E6%B1%82%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.1.2.</span> <span class="toc-text">常见请求首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#accept"><span class="toc-number">5.2.1.2.1.</span> <span class="toc-text">Accept</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#accept-charset"><span class="toc-number">5.2.1.2.2.</span> <span class="toc-text">Accept-Charset</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#accept-encoding"><span class="toc-number">5.2.1.2.3.</span> <span class="toc-text">Accept-Encoding</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#accept-languages"><span class="toc-number">5.2.1.2.4.</span> <span class="toc-text">Accept-Languages</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#authorization"><span class="toc-number">5.2.1.2.5.</span> <span class="toc-text">Authorization</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#from"><span class="toc-number">5.2.1.2.6.</span> <span class="toc-text">From</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#host%E5%BF%85%E9%A1%BB%E8%A2%AB%E5%8C%85%E5%90%AB%E5%9C%A8%E8%AF%B7%E6%B1%82%E5%86%85%E7%9A%84%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.1.2.7.</span> <span class="toc-text">Host (必须被包含在请求内的首部字段)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#refer"><span class="toc-number">5.2.1.2.8.</span> <span class="toc-text">Refer</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%93%8D%E5%BA%94%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.1.3.</span> <span class="toc-text">常见响应首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#age"><span class="toc-number">5.2.1.3.1.</span> <span class="toc-text">Age</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#etag"><span class="toc-number">5.2.1.3.2.</span> <span class="toc-text">ETag</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#location"><span class="toc-number">5.2.1.3.3.</span> <span class="toc-text">Location</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#server"><span class="toc-number">5.2.1.3.4.</span> <span class="toc-text">Server</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%AE%9E%E4%BD%93%E9%A6%96%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.1.4.</span> <span class="toc-text">常见实体首部字段</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#allow"><span class="toc-number">5.2.1.4.1.</span> <span class="toc-text">Allow</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#content-type"><span class="toc-number">5.2.1.4.2.</span> <span class="toc-text">Content-Type</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#expires"><span class="toc-number">5.2.1.4.3.</span> <span class="toc-text">Expires</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#set-cookie"><span class="toc-number">5.2.1.4.4.</span> <span class="toc-text">Set-Cookie</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#cookie"><span class="toc-number">5.2.1.4.5.</span> <span class="toc-text">cookie</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#https"><span class="toc-number">6.</span> <span class="toc-text">HTTPS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#http%E7%BC%BA%E7%82%B9"><span class="toc-number">6.1.</span> <span class="toc-text">HTTP 缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#http%E5%8A%A0%E5%AF%86%E8%AE%A4%E8%AF%81%E5%AE%8C%E6%95%B4%E6%80%A7%E4%BF%9D%E6%8A%A4https"><span class="toc-number">6.2.</span> <span class="toc-text">HTTP + 加密 + 认证 + 完整性保护 &#x3D; HTTPS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssl%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95"><span class="toc-number">6.3.</span> <span class="toc-text">SSL 加密方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#https%E9%87%87%E7%94%A8%E6%B7%B7%E5%90%88%E5%8A%A0%E5%AF%86%E6%9C%BA%E5%88%B6"><span class="toc-number">6.4.</span> <span class="toc-text">HTTPS 采用混合加密机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E5%85%A8%E9%83%A8%E4%BD%BF%E7%94%A8https%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.5.</span> <span class="toc-text">为什么不全部使用 HTTPS 协议</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#websocket"><span class="toc-number">7.</span> <span class="toc-text">WebSocket</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#http1x%E7%93%B6%E9%A2%88"><span class="toc-number">7.1.</span> <span class="toc-text">HTTP&#x2F;1.X 瓶颈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#websocket%E4%B8%BB%E8%A6%81%E7%89%B9%E7%82%B9"><span class="toc-number">7.2.</span> <span class="toc-text">WebSocket 主要特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#web%E6%94%BB%E5%87%BB%E6%8A%80%E6%9C%AF"><span class="toc-number">8.</span> <span class="toc-text">Web 攻击技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">8.1.</span> <span class="toc-text">攻击模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E5%AF%B9%E7%AD%96"><span class="toc-number">8.2.</span> <span class="toc-text">安全对策</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BBxss"><span class="toc-number">8.3.</span> <span class="toc-text">跨站脚本攻击 (XSS)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%AB%99%E7%82%B9%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0%E7%9A%84csrf"><span class="toc-number">8.4.</span> <span class="toc-text">跨站点请求伪造的（CSRF)</span></a></li></ol></li></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/%E5%9B%BE%E8%A7%A3http/" rel="bookmark" title="图解http">图解http</a></li><li><a href="/cookie%E3%80%81localStorage%E3%80%81sessionStorage/" rel="bookmark" title="cookie、localStorage、sessionStorage">cookie、localStorage、sessionStorage</a></li><li><a href="/Web%E5%AE%89%E5%85%A8/" rel="bookmark" title="Web安全">Web安全</a></li><li><a href="/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%AF%A6%E8%A7%A3/" rel="bookmark" title="跨域问题详解">跨域问题详解</a></li><li><a href="/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/" rel="bookmark" title="TCP三次握手和四次挥手">TCP三次握手和四次挥手</a></li><li><a href="/%E4%B8%80%E8%B5%B7%E8%81%8A%E8%81%8A%E5%BC%BA%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98/" rel="bookmark" title="一起聊聊强缓存和协商缓存">一起聊聊强缓存和协商缓存</a></li><li><a href="/TCP%E9%95%BF%E8%BF%9E%E6%8E%A5-%E7%9F%AD%E8%BF%9E%E6%8E%A5%E6%98%AF%E6%80%8E%E4%B9%88%E4%B8%80%E5%9B%9E%E4%BA%8B%EF%BC%9F/" rel="bookmark" title="TCP长连接/短连接是怎么一回事？">TCP长连接/短连接是怎么一回事？</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="小贝壳" data-src="/images/avatar.jpg"><p class="name" itemprop="name">小贝壳</p><div class="description" itemprop="description">你一定会长成自己喜欢的模样</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">31</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">8</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">25</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0RYLVdFQjUyMA==" title="https:&#x2F;&#x2F;github.com&#x2F;DX-WEB520"><i class="ic i-github"></i></span> <span class="exturl item email" data-url="aHR0cHM6Ly8xMjI3MzgyNzU5QHFxLmNvbQ==" title="https:&#x2F;&#x2F;1227382759@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>我们</a></li><li class="item"><span class="exturl" data-url="aHR0cHM6Ly9sZWVjdWUueHl6"><i class="ic i-link"></i>开往</span></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/font-size-line-height-vertical-align/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/cookie%E3%80%81localStorage%E3%80%81sessionStorage/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Vue/" title="分类于 Vue">Vue</a></div><span><a href="/%E4%B8%80%E8%B5%B7%E5%AD%A6%E4%B9%A0Vue%E5%90%A7/" title="一起学习Vue吧!">一起学习Vue吧!</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/network/" title="分类于 网络">网络</a></div><span><a href="/cookie%E3%80%81localStorage%E3%80%81sessionStorage/" title="cookie、localStorage、sessionStorage">cookie、localStorage、sessionStorage</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/network/" title="分类于 网络">网络</a></div><span><a href="/TCP%E9%95%BF%E8%BF%9E%E6%8E%A5-%E7%9F%AD%E8%BF%9E%E6%8E%A5%E6%98%AF%E6%80%8E%E4%B9%88%E4%B8%80%E5%9B%9E%E4%BA%8B%EF%BC%9F/" title="TCP长连接&#x2F;短连接是怎么一回事？">TCP长连接/短连接是怎么一回事？</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/network/" title="分类于 网络">网络</a></div><span><a href="/%E4%B8%80%E8%B5%B7%E8%81%8A%E8%81%8A%E5%BC%BA%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98/" title="一起聊聊强缓存和协商缓存">一起聊聊强缓存和协商缓存</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/JS%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="JS常见的设计模式">JS常见的设计模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/layout/" title="分类于 布局">布局</a></div><span><a href="/flex%E5%B8%83%E5%B1%80%E5%8F%8A%E5%BA%94%E7%94%A8/" title="flex布局及应用">flex布局及应用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82/" title="分类于 数据请求">数据请求</a></div><span><a href="/axios/" title="axios">axios</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%8A%A8%E7%94%BB/" title="分类于 动画">动画</a></div><span><a href="/CSS%E5%8A%A8%E7%94%BB/" title="CSS动画">CSS动画</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/layout/" title="分类于 布局">布局</a></div><span><a href="/BFC-IFC/" title="BFC&amp;IFC">BFC&IFC</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/layout/" title="分类于 布局">布局</a></div><span><a href="/%E4%B8%A4%E5%88%97%E5%B8%83%E5%B1%80/" title="两列布局">两列布局</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">小贝壳 @ 小贝壳</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">118k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">1:48</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"图解http/",favicon:{show:"（●´3｀●）欢迎光临",hide:"(´Д｀)确定要离开嘛"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>